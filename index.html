<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>역사토리 - 어린이 역사 체험 교육</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      background-color: #fefcf8;
      color: #333;
    }
    header {
      background-color: #f9d342;
      padding: 20px;
      text-align: center;
    }
    header h1 {
      margin: 0;
      font-size: 2em;
    }
    nav {
      background-color: #f4b400;
      display: flex;
      justify-content: center;
      padding: 10px 0;
    }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .hero {
      padding: 80px 20px;
      text-align: center;
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Gyeongbokgung_Geunjeongjeon_2.jpg/1600px-Gyeongbokgung_Geunjeongjeon_2.jpg');
      background-size: cover;
      background-position: center;
      color: white;
      text-shadow: 1px 1px 4px rgba(0,0,0,0.7);
    }
    .hero h2 {
      font-size: 2.5em;
      margin-bottom: 10px;
    }
    .section {
      padding: 40px 20px;
      max-width: 1000px;
      margin: auto;
    }
    .section h3 {
      font-size: 1.8em;
      margin-bottom: 10px;
    }
    .calendar-wrapper {
      text-align: center;
    }
    .calendar {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    .day {
      width: 120px;
      padding: 10px;
      background-color: #fff3cd;
      border: 1px solid #f0ad4e;
      cursor: pointer;
      border-radius: 5px;
    }
    .day.disabled {
      background-color: #eee;
      color: #aaa;
      cursor: not-allowed;
    }
    .timeslot {
      margin-top: 20px;
    }
    .timeslot button {
      margin: 5px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background-color: #f4b400;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    .timeslot button.full {
      background-color: #ccc;
      cursor: not-allowed;
    }
    .payment-box {
      margin-top: 20px;
      background-color: #ffe082;
      padding: 15px;
      text-align: center;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>역사토리</h1>
    <p>6~13세 아이들을 위한 현장 중심 역사 교육</p>
  </header>

  <nav>
    <a href="#home">홈</a>
    <a href="#programs">프로그램 안내</a>
    <a href="#calendar">캘린더</a>
    <a href="#apply">신청하기</a>
    <a href="#contact">문의</a>
  </nav>

  <div class="hero" id="home">
    <h2>어린이 역사 탐방, 역사토리와 함께해요!</h2>
    <p>궁궐, 박물관, 유적지를 직접 체험하며 배우는 살아있는 역사 수업</p>
  </div>

  <section class="section" id="calendar">
    <h3>교육 일정 캘린더</h3>
    <div class="calendar-wrapper">
      <div class="calendar" id="calendar-days"></div>
      <div class="timeslot" id="timeslots"></div>
      <div class="payment-box" id="paymentBox" style="display:none;" onclick="alert('결제 페이지로 이동합니다!')">
        결제창으로 가기
      </div>
    </div>
  </section>

  <script>
    const calendarDays = document.getElementById('calendar-days');
    const timeslots = document.getElementById('timeslots');
    const paymentBox = document.getElementById('paymentBox');

    const timeOptions = [
      { label: '1부 10:00~12:00', id: 'time1' },
      { label: '2부 13:00~15:00', id: 'time2' },
      { label: '3부 15:00~17:00', id: 'time3' },
    ];

    const sampleBookingData = {
      '2025-04-12': { time1: 4, time2: 8, time3: 7 },
      '2025-04-13': { time1: 8, time2: 8, time3: 8 },
    };

    function getUpcomingWeekends() {
      const weekends = [];
      const today = new Date();
      for (let i = 0; i < 14; i++) {
        const date = new Date();
        date.setDate(today.getDate() + i);
        const day = date.getDay();
        if (day === 0 || day === 6) {
          const dateString = date.toISOString().split('T')[0];
          weekends.push({ label: dateString, date });
        }
      }
      return weekends;
    }

    function renderCalendar() {
      const weekends = getUpcomingWeekends();
      weekends.forEach(({ label, date }) => {
        const div = document.createElement('div');
        div.className = 'day';
        div.innerText = label;
        div.onclick = () => showTimeslots(label);
        calendarDays.appendChild(div);
      });
    }

    function showTimeslots(dateStr) {
      timeslots.innerHTML = '';
      paymentBox.style.display = 'none';
      const todayBooking = sampleBookingData[dateStr] || {};
      timeOptions.forEach(({ label, id }) => {
        const count = todayBooking[id] || 0;
        const btn = document.createElement('button');
        btn.innerText = `${label} (${count}/8)`;
        if (count >= 8) {
          btn.className = 'full';
          btn.disabled = true;
        } else {
          btn.onclick = () => {
            paymentBox.style.display = 'block';
          };
        }
        timeslots.appendChild(btn);
      });
    }

    renderCalendar();
  </script>

  <section class="section" id="apply">
    <h3>참가 신청</h3>
    <div class="signup-placeholder">
      [여기에 신청/결제 시스템이 들어갈 예정입니다]
    </div>
  </section>

  <section class="section" id="contact">
    <h3>문의하기</h3>
    <p>이메일: yeoksatory@yourmail.com<br>전화: 010-1234-5678</p>
  </section>

  <footer>
    <p>&copy; 2025 역사토리. All rights reserved.</p>
  </footer>
</body>
</html>
